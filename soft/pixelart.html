<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Pixel Art Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 8px;
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #a0a0c0;
            margin-bottom: 20px;
        }
        
        .editor-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            background-color: rgba(30, 30, 50, 0.7);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .tools-panel {
            flex: 1;
            min-width: 280px;
            background-color: rgba(40, 40, 60, 0.8);
            border-radius: 10px;
            padding: 20px;
        }
        
        .canvas-container {
            flex: 2;
            min-width: 300px;
            background-color: rgba(25, 25, 35, 0.9);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .panel-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #feb47b;
            border-bottom: 2px solid #ff7e5f;
            padding-bottom: 8px;
        }
        
        .color-palette {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .color {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: transform 0.2s, border 0.2s;
        }
        
        .color:hover {
            transform: scale(1.1);
        }
        
        .color.active {
            border-color: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        
        .current-color {
            width: 100%;
            height: 60px;
            border-radius: 10px;
            margin: 20px 0;
            border: 3px solid #444;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .tool-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }
        
        .tool-btn {
            padding: 12px 8px;
            background-color: #3a3a5a;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .tool-btn:hover {
            background-color: #4a4a6a;
        }
        
        .tool-btn.active {
            background-color: #ff7e5f;
            transform: translateY(-2px);
        }
        
        .tool-btn i {
            font-size: 1.2rem;
        }
        
        .grid-controls {
            margin-top: 20px;
        }
        
        .slider-container {
            margin-bottom: 15px;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-size: 1rem;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: #3a3a5a;
            border-radius: 4px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #ff7e5f;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .grid-size-display {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
            color: #a0a0c0;
        }
        
        .pixel-canvas {
            display: grid;
            grid-gap: 1px;
            background-color: #333;
            border: 2px solid #555;
            border-radius: 5px;
            margin-bottom: 25px;
            max-width: 100%;
            overflow: auto;
        }
        
        .pixel {
            width: 20px;
            height: 20px;
            background-color: #222;
            cursor: crosshair;
            transition: background-color 0.1s;
        }
        
        .pixel:hover {
            opacity: 0.8;
        }
        
        .canvas-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .action-btn {
            padding: 12px 24px;
            background-color: #3a3a5a;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .action-btn:hover {
            background-color: #4a4a6a;
            transform: translateY(-2px);
        }
        
        .action-btn.export {
            background-color: #4CAF50;
        }
        
        .action-btn.export:hover {
            background-color: #5cbf60;
        }
        
        .action-btn.clear {
            background-color: #f44336;
        }
        
        .action-btn.clear:hover {
            background-color: #ff5555;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #888;
            font-size: 0.9rem;
        }
        
        .instructions {
            background-color: rgba(40, 40, 60, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .instructions h3 {
            color: #feb47b;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
            line-height: 1.6;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .editor-container {
                flex-direction: column;
            }
            
            .tools-panel, .canvas-container {
                width: 100%;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-palette"></i> HTML Pixel Art Editor</h1>
            <p class="subtitle">Create your own pixel art masterpiece. Draw, erase, fill and export your creations!</p>
        </header>
        
        <div class="editor-container">
            <div class="tools-panel">
                <h2 class="panel-title"><i class="fas fa-paint-brush"></i> Tools & Colors</h2>
                
                <div class="color-palette" id="colorPalette">
                    <!-- Colors will be generated by JavaScript -->
                </div>
                
                <div class="current-color-container">
                    <label>Current Color:</label>
                    <div class="current-color" id="currentColor"></div>
                </div>
                
                <div class="color-picker">
                    <label for="customColor">Custom Color:</label>
                    <input type="color" id="customColor" value="#ff7e5f">
                </div>
                
                <div class="tool-buttons" id="toolButtons">
                    <!-- Tool buttons will be generated by JavaScript -->
                </div>
                
                <div class="grid-controls">
                    <h2 class="panel-title"><i class="fas fa-th-large"></i> Grid Controls</h2>
                    
                    <div class="slider-container">
                        <label for="gridSize">Grid Size: <span id="gridSizeValue">16x16</span></label>
                        <input type="range" id="gridSize" min="8" max="32" value="16" step="8">
                        <div class="grid-size-display">
                            <span>Small</span>
                            <span>Medium</span>
                            <span>Large</span>
                        </div>
                    </div>
                    
                    <div class="slider-container">
                        <label for="pixelSize">Pixel Size: <span id="pixelSizeValue">20px</span></label>
                        <input type="range" id="pixelSize" min="10" max="30" value="20" step="5">
                        <div class="grid-size-display">
                            <span>Small</span>
                            <span>Medium</span>
                            <span>Large</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="canvas-container">
                <h2 class="panel-title"><i class="fas fa-drafting-compass"></i> Pixel Canvas</h2>
                
                <div class="pixel-canvas" id="pixelCanvas">
                    <!-- Pixel grid will be generated by JavaScript -->
                </div>
                
                <div class="canvas-controls">
                    <button class="action-btn clear" id="clearBtn">
                        <i class="fas fa-trash-alt"></i> Clear Canvas
                    </button>
                    <button class="action-btn" id="fillBtn">
                        <i class="fas fa-fill-drip"></i> Fill Canvas
                    </button>
                    <button class="action-btn export" id="exportBtn">
                        <i class="fas fa-download"></i> Export as PNG
                    </button>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> How to Use</h3>
            <ul>
                <li><strong>Draw:</strong> Select a color and click or drag on the grid to draw pixels.</li>
                <li><strong>Erase:</strong> Use the eraser tool to remove pixels.</li>
                <li><strong>Fill:</strong> Use the fill tool to fill an area with the selected color.</li>
                <li><strong>Color Picker:</strong> Use the eye dropper to pick colors from the canvas.</li>
                <li><strong>Custom Color:</strong> Use the color picker to choose any color you want.</li>
                <li><strong>Adjust Grid:</strong> Change grid and pixel size using the sliders.</li>
                <li><strong>Export:</strong> Save your pixel art as a PNG image.</li>
            </ul>
        </div>
        
        <footer>
            <p>HTML Pixel Art Editor | Created with HTML, CSS, and JavaScript | Try creating some classic pixel art like a heart, smiley face, or small character!</p>
        </footer>
    </div>

    <script>
        // Initialize variables
        let currentColor = '#ff7e5f';
        let currentTool = 'pencil';
        let gridSize = 16;
        let pixelSize = 20;
        let isDrawing = false;
        let customColor = '#ff7e5f';
        
        // Define color palette
        const colors = [
            '#FF7E5F', '#FEB47B', '#FF6B6B', '#FFA726', '#FFD166',
            '#06D6A0', '#118AB2', '#073B4C', '#7209B7', '#3A86FF',
            '#FB5607', '#8338EC', '#FF006E', '#8AC926', '#1982C4',
            '#000000', '#333333', '#666666', '#999999', '#FFFFFF'
        ];
        
        // Define tools
        const tools = [
            {id: 'pencil', name: 'Pencil', icon: 'fas fa-pencil-alt'},
            {id: 'eraser', name: 'Eraser', icon: 'fas fa-eraser'},
            {id: 'fill', name: 'Fill', icon: 'fas fa-fill-drip'},
            {id: 'picker', name: 'Picker', icon: 'fas fa-eye-dropper'},
            {id: 'line', name: 'Line', icon: 'fas fa-slash'},
            {id: 'rectangle', name: 'Rectangle', icon: 'fas fa-square'}
        ];
        
        // DOM elements
        const colorPalette = document.getElementById('colorPalette');
        const currentColorElement = document.getElementById('currentColor');
        const customColorInput = document.getElementById('customColor');
        const toolButtons = document.getElementById('toolButtons');
        const pixelCanvas = document.getElementById('pixelCanvas');
        const gridSizeSlider = document.getElementById('gridSize');
        const gridSizeValue = document.getElementById('gridSizeValue');
        const pixelSizeSlider = document.getElementById('pixelSize');
        const pixelSizeValue = document.getElementById('pixelSizeValue');
        const clearBtn = document.getElementById('clearBtn');
        const fillBtn = document.getElementById('fillBtn');
        const exportBtn = document.getElementById('exportBtn');
        
        // Initialize the editor
        function init() {
            renderColorPalette();
            renderToolButtons();
            updateCurrentColor();
            createGrid();
            setupEventListeners();
            
            // Set initial custom color
            customColorInput.value = currentColor;
        }
        
        // Render color palette
        function renderColorPalette() {
            colorPalette.innerHTML = '';
            
            colors.forEach(color => {
                const colorElement = document.createElement('div');
                colorElement.className = 'color';
                colorElement.style.backgroundColor = color;
                colorElement.dataset.color = color;
                
                if (color === currentColor) {
                    colorElement.classList.add('active');
                }
                
                colorElement.addEventListener('click', () => {
                    setCurrentColor(color);
                    document.querySelectorAll('.color').forEach(c => c.classList.remove('active'));
                    colorElement.classList.add('active');
                });
                
                colorPalette.appendChild(colorElement);
            });
        }
        
        // Render tool buttons
        function renderToolButtons() {
            toolButtons.innerHTML = '';
            
            tools.forEach(tool => {
                const toolButton = document.createElement('button');
                toolButton.className = 'tool-btn';
                toolButton.id = tool.id;
                toolButton.innerHTML = `<i class="${tool.icon}"></i><span>${tool.name}</span>`;
                
                if (tool.id === currentTool) {
                    toolButton.classList.add('active');
                }
                
                toolButton.addEventListener('click', () => {
                    setCurrentTool(tool.id);
                    document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
                    toolButton.classList.add('active');
                });
                
                toolButtons.appendChild(toolButton);
            });
        }
        
        // Set current color
        function setCurrentColor(color) {
            currentColor = color;
            updateCurrentColor();
        }
        
        // Update current color display
        function updateCurrentColor() {
            currentColorElement.style.backgroundColor = currentColor;
        }
        
        // Set current tool
        function setCurrentTool(tool) {
            currentTool = tool;
        }
        
        // Create the pixel grid
        function createGrid() {
            pixelCanvas.innerHTML = '';
            pixelCanvas.style.gridTemplateColumns = `repeat(${gridSize}, ${pixelSize}px)`;
            
            // Create grid cells
            for (let i = 0; i < gridSize * gridSize; i++) {
                const pixel = document.createElement('div');
                pixel.className = 'pixel';
                pixel.style.width = `${pixelSize}px`;
                pixel.style.height = `${pixelSize}px`;
                pixel.dataset.index = i;
                
                // Set initial background color
                pixel.style.backgroundColor = '#222';
                
                // Add event listeners for drawing
                pixel.addEventListener('mousedown', (e) => {
                    isDrawing = true;
                    handlePixelInteraction(e);
                });
                
                pixel.addEventListener('mouseover', (e) => {
                    if (isDrawing) {
                        handlePixelInteraction(e);
                    }
                });
                
                pixel.addEventListener('mouseup', () => {
                    isDrawing = false;
                });
                
                pixelCanvas.appendChild(pixel);
            }
        }
        
        // Handle pixel interaction based on current tool
        function handlePixelInteraction(e) {
            const pixel = e.target;
            
            if (currentTool === 'pencil') {
                pixel.style.backgroundColor = currentColor;
            } else if (currentTool === 'eraser') {
                pixel.style.backgroundColor = '#222';
            } else if (currentTool === 'fill') {
                // Simple flood fill - in a production app you'd implement proper flood fill algorithm
                const targetColor = pixel.style.backgroundColor;
                if (targetColor !== currentColor) {
                    const pixels = document.querySelectorAll('.pixel');
                    pixels.forEach(p => {
                        if (p.style.backgroundColor === targetColor) {
                            p.style.backgroundColor = currentColor;
                        }
                    });
                }
            } else if (currentTool === 'picker') {
                // Pick color from pixel
                const color = pixel.style.backgroundColor;
                if (color && color !== 'rgb(34, 34, 34)') {
                    // Convert rgb to hex
                    const rgb = color.match(/\d+/g);
                    const hex = rgbToHex(parseInt(rgb[0]), parseInt(rgb[1]), parseInt(rgb[2]));
                    setCurrentColor(hex);
                    customColorInput.value = hex;
                    
                    // Update active color in palette
                    document.querySelectorAll('.color').forEach(c => c.classList.remove('active'));
                    
                    // Check if the color exists in the palette
                    const colorElement = document.querySelector(`.color[data-color="${hex.toUpperCase()}"]`);
                    if (colorElement) {
                        colorElement.classList.add('active');
                    }
                }
            }
        }
        
        // Helper function to convert RGB to hex
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Custom color input
            customColorInput.addEventListener('input', (e) => {
                currentColor = e.target.value;
                updateCurrentColor();
                
                // Update active color in palette
                document.querySelectorAll('.color').forEach(c => c.classList.remove('active'));
            });
            
            // Grid size slider
            gridSizeSlider.addEventListener('input', (e) => {
                const value = parseInt(e.target.value);
                gridSize = value;
                gridSizeValue.textContent = `${value}x${value}`;
                createGrid();
            });
            
            // Pixel size slider
            pixelSizeSlider.addEventListener('input', (e) => {
                const value = parseInt(e.target.value);
                pixelSize = value;
                pixelSizeValue.textContent = `${value}px`;
                
                // Update pixel sizes
                document.querySelectorAll('.pixel').forEach(pixel => {
                    pixel.style.width = `${value}px`;
                    pixel.style.height = `${value}px`;
                });
                
                // Update grid template
                pixelCanvas.style.gridTemplateColumns = `repeat(${gridSize}, ${value}px)`;
            });
            
            // Clear canvas button
            clearBtn.addEventListener('click', () => {
                document.querySelectorAll('.pixel').forEach(pixel => {
                    pixel.style.backgroundColor = '#222';
                });
            });
            
            // Fill canvas button
            fillBtn.addEventListener('click', () => {
                document.querySelectorAll('.pixel').forEach(pixel => {
                    pixel.style.backgroundColor = currentColor;
                });
            });
            
            // Export button
            exportBtn.addEventListener('click', exportCanvas);
            
            // Prevent drawing when mouse leaves canvas
            pixelCanvas.addEventListener('mouseleave', () => {
                isDrawing = false;
            });
            
            // Prevent default drag behavior
            document.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('pixel')) {
                    e.preventDefault();
                }
            });
            
            // Stop drawing when mouse is released anywhere
            document.addEventListener('mouseup', () => {
                isDrawing = false;
            });
        }
        
        // Export canvas as PNG
        function exportCanvas() {
            // Create a temporary canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas dimensions
            const size = gridSize * pixelSize;
            canvas.width = size;
            canvas.height = size;
            
            // Get all pixels
            const pixels = document.querySelectorAll('.pixel');
            
            // Draw each pixel on the canvas
            for (let i = 0; i < pixels.length; i++) {
                const pixel = pixels[i];
                const row = Math.floor(i / gridSize);
                const col = i % gridSize;
                
                // Get color
                let color = pixel.style.backgroundColor;
                if (color === '' || color === 'rgb(34, 34, 34)') {
                    color = '#222';
                }
                
                // Draw pixel
                ctx.fillStyle = color;
                ctx.fillRect(col * pixelSize, row * pixelSize, pixelSize, pixelSize);
            }
            
            // Create download link
            const link = document.createElement('a');
            link.download = `pixel-art-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        // Draw a sample pixel art on initialization
        function drawSampleArt() {
            // Draw a simple smiley face
            const center = Math.floor(gridSize / 2);
            const pixels = document.querySelectorAll('.pixel');
            
            // Clear first
            pixels.forEach(p => p.style.backgroundColor = '#222');
            
            // Face outline (yellow circle)
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    const distance = Math.sqrt(
                        Math.pow(i - center, 2) + Math.pow(j - center, 2)
                    );
                    
                    if (distance <= 5 && distance >= 4) {
                        const index = i * gridSize + j;
                        if (index < pixels.length) {
                            pixels[index].style.backgroundColor = '#FFD166';
                        }
                    }
                }
            }
            
            // Eyes (blue)
            const leftEyeIndex = (center - 2) * gridSize + (center - 2);
            const rightEyeIndex = (center - 2) * gridSize + (center + 2);
            
            if (leftEyeIndex < pixels.length) {
                pixels[leftEyeIndex].style.backgroundColor = '#118AB2';
                pixels[leftEyeIndex + 1].style.backgroundColor = '#118AB2';
                pixels[leftEyeIndex + gridSize].style.backgroundColor = '#118AB2';
                pixels[leftEyeIndex + gridSize + 1].style.backgroundColor = '#118AB2';
            }
            
            if (rightEyeIndex < pixels.length) {
                pixels[rightEyeIndex].style.backgroundColor = '#118AB2';
                pixels[rightEyeIndex + 1].style.backgroundColor = '#118AB2';
                pixels[rightEyeIndex + gridSize].style.backgroundColor = '#118AB2';
                pixels[rightEyeIndex + gridSize + 1].style.backgroundColor = '#118AB2';
            }
            
            // Mouth (red smile)
            for (let i = 0; i < 4; i++) {
                const index1 = (center + 2) * gridSize + (center - 3 + i);
                const index2 = (center + 3) * gridSize + (center - 2 + i);
                
                if (index1 < pixels.length) pixels[index1].style.backgroundColor = '#FF6B6B';
                if (index2 < pixels.length) pixels[index2].style.backgroundColor = '#FF6B6B';
            }
        }
        
        // Initialize the editor when page loads
        window.addEventListener('DOMContentLoaded', () => {
            init();
            // Draw sample after a short delay
            setTimeout(drawSampleArt, 500);
        });
    </script>
</body>
</html>